<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Serenity Music</title>
<style>
body { margin:0; padding:0; background:#f36eff; font-family:Arial,sans-serif; }
#topMenu { width:100%; background:#601b66; padding:15px 20px; display:flex; align-items:center; }
#topTitle { color:#ffffff; font-size:28px; font-weight:bold; text-shadow:0 0 6px #ffffff; }
.albumPanel { width:80%; margin:40px auto; background:#f8adff; border:4px solid #fbccff; border-radius:18px; padding:25px; box-shadow:0 0 14px #fbccff; transition:all 0.3s ease; animation:pulse 3s infinite ease-in-out; }
@keyframes pulse { 0%{box-shadow:0 0 14px #fbccff;}50%{box-shadow:0 0 24px #fbccff;}100%{box-shadow:0 0 14px #fbccff;} }
.albumTitle { color:#ffffff; font-size:24px; font-weight:bold; text-shadow:0 0 6px #ffffff; margin-bottom:10px; }
.btnRow { margin-top:10px; }
.controlBtn, .favBtn { width:44px; height:44px; background:white; border-radius:50%; border:none; margin-right:10px; cursor:pointer; font-size:20px; }
#volBox, #bassBox { margin-top:18px; color:#ffffff; font-size:20px; text-shadow:0 0 6px white; }
.slider { width:280px; height:8px; border-radius:6px; background:#ffb3ff; box-shadow:0 0 12px #ffb3ff; }
</style>
</head>
<body>
<div id="topMenu"><div id="topTitle">üå∏ Serenity Music üå∏</div></div>
<div id="albumsContainer"></div>
<audio id="player" controls></audio>
<script>
const albumMenus = [
  { title:"LV Sandals - EsDeeKid", src:"https://dl.dropboxusercontent.com/scl/fi/z4s0sarye7m5pgspuyv00/EsDeeKid-Fakemink-Rico-Ace-LV-Sandals-EsDeeKid.mp3?raw=1", favorite:false },
  { title:"Obsession - PreshBoySwag", src:"https://dl.dropboxusercontent.com/scl/fi/4xjivd5abjpz01s0uyfr1/obsessed-phreshboyswag.mp3?raw=1", favorite:false }
];

const originalOrder = [...albumMenus];
const albumsContainer = document.getElementById('albumsContainer');
const player = document.getElementById('player');

let audioCtx, track, bassFilter;

function initAudioContext(){
  if(!audioCtx){
    audioCtx = new (window.AudioContext||window.webkitAudioContext)();
    track = audioCtx.createMediaElementSource(player);
    bassFilter = audioCtx.createBiquadFilter();
    bassFilter.type='lowshelf';
    bassFilter.frequency.value=200;
    track.connect(bassFilter).connect(audioCtx.destination);
  }
}

function createAlbumMenus(){
  albumsContainer.innerHTML='';
  albumMenus.forEach((album,index)=>{
    const div=document.createElement('div');
    div.className='albumPanel';
    div.innerHTML=`
      <div>
        <div class='albumTitle'>${album.title}</div>
        <div class='btnRow'>
          <button class='controlBtn' onclick='playAlbum("${album.src}")'>‚ñ∂Ô∏è</button>
          <button class='controlBtn' onclick='pauseAlbum()'>‚è∏Ô∏è</button>
          <button class='controlBtn' onclick='toggleLoop()'>üîÅ</button>
          <button class='favBtn' onclick='toggleFavorite(${index})'>${album.favorite?'üíî':'‚ù§Ô∏è'}</button>
        </div>
      </div>
      <div id='volBox'>VOLUME: <input type='range' class='slider volSlider' min='0' max='100' value='50'></div>
      <div id='bassBox'>BASS: <input type='range' class='slider bassSlider' min='-10' max='100' value='0'></div>
    `;
    albumsContainer.appendChild(div);

    const volSlider = div.querySelector('.volSlider');
    volSlider.oninput = () => { player.volume = volSlider.value/100; };

    const bassSlider = div.querySelector('.bassSlider');
    bassSlider.oninput = () => { if(bassFilter) bassFilter.gain.value = bassSlider.value; };
  });
}

function playAlbum(src){
  initAudioContext();
  if(audioCtx.state === 'suspended') audioCtx.resume();
  player.src = src;
  player.play();
}
function pauseAlbum(){ player.pause(); }
function toggleLoop(){ player.loop = !player.loop; }

function toggleFavorite(index){
  const album = albumMenus[index];
  album.favorite = !album.favorite;
  if(album.favorite){ albumMenus.splice(index,1); albumMenus.unshift(album); }
  else { albumMenus.splice(index,1); const originalIndex = originalOrder.findIndex(a=>a.title===album.title); albumMenus.splice(originalIndex,0,album); }
  createAlbumMenus();
}

createAlbumMenus();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firefly Music Player</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #000;
      height: 100vh;
      font-family: "Poppins", sans-serif;
      color: #fff;
    }

    /* Firefly glow background */
    .firefly {
      position: absolute;
      background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 70%);
      border-radius: 50%;
      opacity: 0.8;
      width: 6px;
      height: 6px;
      animation: flicker 3s infinite ease-in-out alternate;
      filter: blur(3px);
    }

    @keyframes flicker {
      0% { opacity: 0.2; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
      100% { opacity: 0.2; transform: scale(0.8); }
    }

    /* Player menu */
    .player-menu {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(100, 100, 100, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      width: 400px;
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }

    .song-list {
      margin-bottom: 20px;
    }

    .song-button {
      background: rgba(255,255,255,0.1);
      border: none;
      color: white;
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.2s;
    }

    .song-button:hover {
      background: rgba(255,255,255,0.2);
    }

    .controls {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 10px 0;
    }

    .controls button {
      background: rgba(255,255,255,0.15);
      border: none;
      border-radius: 10px;
      color: white;
      padding: 10px 15px;
      cursor: pointer;
      transition: 0.2s;
    }

    .controls button:hover {
      background: rgba(255,255,255,0.3);
    }

    .slider {
      width: 100%;
    }

    .volume-control {
      margin-top: 10px;
    }

    h3 {
      text-align: center;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <!-- Fireflies -->
  <script>
    const numFireflies = 80;
    const fireflies = [];

    for (let i = 0; i < numFireflies; i++) {
      const f = document.createElement('div');
      f.classList.add('firefly');
      document.body.appendChild(f);

      f.style.left = Math.random() * window.innerWidth + 'px';
      f.style.top = Math.random() * window.innerHeight + 'px';
      f.dataset.dx = (Math.random() - 0.5) * 0.8;
      f.dataset.dy = (Math.random() - 0.5) * 0.8;

      fireflies.push(f);
    }

    function animateFireflies() {
      fireflies.forEach(f => {
        let x = parseFloat(f.style.left);
        let y = parseFloat(f.style.top);
        let dx = parseFloat(f.dataset.dx);
        let dy = parseFloat(f.dataset.dy);

        x += dx;
        y += dy;

        if (x < 0 || x > window.innerWidth) f.dataset.dx = -dx;
        if (y < 0 || y > window.innerHeight) f.dataset.dy = -dy;

        f.style.left = x + 'px';
        f.style.top = y + 'px';
      });
      requestAnimationFrame(animateFireflies);
    }

    animateFireflies();
  </script>

  <!-- Music Player -->
  <div class="player-menu">
    <div class="song-list" id="songList"></div>

    <h3 id="currentTitle">No song selected</h3>
    <audio id="audio" crossorigin="anonymous"></audio>

    <div class="controls">
      <button id="back5">‚è™ -5s</button>
      <button id="playPause">‚ñ∂Ô∏è</button>
      <button id="forward5">‚è© +5s</button>
      <button id="repeat">üîÅ</button>
    </div>

    <input type="range" id="progress" class="slider" min="0" max="100" value="0">
    <div class="volume-control">
      Volume: <input type="range" id="volume" class="slider" min="0" max="1" step="0.01" value="0.5">
    </div>
  </div>

  <script>
    // üéµ Add your songs here
    const songs = [
      {
        title: "Ransom",
        url: "https://dl.dropboxusercontent.com/scl/fi/luwd8s86vof4rvufmu4e7/Lil-Tecca-Ransom-Official-Music-Video-Lyrical-Lemonade.mp3?rlkey=8es0stu8bxfg8gvbw06zm6dqd&st=krsgjj8a&dl=0",
        title: "Ransom",
        url: "https://dl.dropboxusercontent.com/scl/fi/luwd8s86vof4rvufmu4e7/Lil-Tecca-Ransom-Official-Music-Video-Lyrical-Lemonade.mp3?rlkey=8es0stu8bxfg8gvbw06zm6dqd&st=krsgjj8a&dl=0"
      }
      // Add more songs here:
      // { title: "Song Name", url: "https://dl.dropboxusercontent.com/...mp3" }
    ];

    const songList = document.getElementById("songList");
    const audioElement = document.getElementById("audio");
    const playPause = document.getElementById("playPause");
    const back5 = document.getElementById("back5");
    const forward5 = document.getElementById("forward5");
    const repeat = document.getElementById("repeat");
    const progress = document.getElementById("progress");
    const volume = document.getElementById("volume");
    const currentTitle = document.getElementById("currentTitle");

    // Setup Web Audio API for boosted volume
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const track = audioCtx.createMediaElementSource(audioElement);
    const gainNode = audioCtx.createGain();
    track.connect(gainNode).connect(audioCtx.destination);

    document.body.addEventListener("click", () => {
      if (audioCtx.state === "suspended") audioCtx.resume();
    }, { once: true });

    // Generate song buttons
    songs.forEach((song, index) => {
      const btn = document.createElement("button");
      btn.textContent = song.title;
      btn.className = "song-button";
      btn.onclick = () => loadSong(index);
      songList.appendChild(btn);
    });

    function loadSong(index) {
      audioElement.src = songs[index].url;
      currentTitle.textContent = songs[index].title;
      audioElement.play();
      playPause.textContent = "‚è∏Ô∏è";
    }

    playPause.onclick = () => {
      if (audioElement.paused) {
        audioElement.play();
        playPause.textContent = "‚è∏Ô∏è";
      } else {
        audioElement.pause();
        playPause.textContent = "‚ñ∂Ô∏è";
      }
    };

    back5.onclick = () => { audioElement.currentTime -= 5; };
    forward5.onclick = () => { audioElement.currentTime += 5; };

    repeat.onclick = () => {
      audioElement.loop = !audioElement.loop;
      repeat.style.color = audioElement.loop ? "grey" : "white";
    };

    audioElement.ontimeupdate = () => {
      progress.value = (audioElement.currentTime / audioElement.duration) * 100 || 0;
    };

    progress.oninput = () => {
      audioElement.currentTime = (progress.value / 100) * audioElement.duration;
    };

    volume.oninput = () => {
      // Volume slider now boosts up to 3x normal volume
      gainNode.gain.value = volume.value * 3;
    };
  </script>
</body>
</html>
